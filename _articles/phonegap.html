<!DOCTYPE html>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />
<article>
	<hr><p>layout: post
title: 构建基于html5的app程序 
tags: ios html5 js css phonegap
—</p>

<h4 id="section">背景说明</h4>

<p>PhoneGap是一个开源的开发框架，使用HTML，CSS和JavaScript来构建跨平台的的移动应用程序。它使开发者能够利用iPhone，Android，Palm，Symbian，Blackberry，Windows Phone和Beda智能手机的核心功能——包括地理定位，加速器，联系人，声音和振动等。</p>

<h2 id="ios">ios版流程</h2>

<h3 id="mac">搭建mac环境</h3>

<ol>
<li>安装xcode编辑器</li>
  <li>安装Xcode Command Line Tools (Xcode Preferences -&gt; Downloads -&gt; Components -&gt; Command Line Tools -&gt; Install)</li>
  <li>下载最新版的Apache Cordova，下载地址：http://phonegap.com/download</li>
  <li>下载完毕，解压文件如下图（当前最新为2.0.0）
<img src="images/unpack.png" alt="">
</li>
</ol><p>双击路径为lib/ios的Cordova-2.0.0.dmg文件进行安装
<img src="images/install.png" alt=""></p>

<p>（1）双击上图中的Cordova-2.0.0.pkg文件进行安装</p>

<p>（2）拷贝上图中bin文件夹到你的硬盘某一目录下，我拷贝到了~/Documents/config文件夹下面</p>

<h3 id="htmlios">构建基于html的ios程序</h3>

<p>环境意见搭建完毕，现在开始构建项目</p>

<p>1: 进入终端，首先创建项目的根目录 </p>

<pre><code>mkdir -p ~/Documents/workspace/ios-web/
</code></pre>

<p>2: 构建项目</p>

<pre><code>~/documents/config/bin/create ~/Documents/workspace/ios-web/ com.example.cordova_project_name CordovaProjectName
</code></pre>

<p>CordovaProjectName为项目名称，项目目录如下</p>

<p><img src="images/items.png" alt=""></p>

<p>其中www文件夹为我们html页面的根目录，构建程序已经为我们构建了一个简单的静态html项目在里面，所以暂且用这个进行调试</p>

<p>3: 编译项目</p>

<pre><code>~/Documents/workspace/ios-web/cordova/debug
</code></pre>

<p>第一次编译的时候，会跳出一个因为没有ios-sim内库导致的错误，所以编译不成功</p>

<p>4: 三种安装ios-sim内库的方式</p>

<p>（1） homebrew安装</p>

<pre><code>brew install ios-sim
</code></pre>

<p>（2）下载安装包，本地安装</p>

<pre><code>curl -L https://github.com/phonegap/ios-sim/zipball/1.3 -o ios-sim-1.3.zip

unzip ios-sim-1.3.zip
</code></pre>

<p>（3）下载源码，本地编译</p>

<pre><code>git clone git://github.com/phonegap/ios-sim.git

cd ios-sim

rake install prefix=/usr/local/
</code></pre>

<p>ps：我的brew配置的有问题，第一种方法报错，通过第三种办法解决的</p>

<p>原文路径如下：https://github.com/phonegap/ios-sim</p>

<p>5: 重新编译，就能看到效果了</p>

<pre><code>~/Documents/workspace/ios-web/cordova/debug
</code></pre>

<p>效果图如下：</p>

<p><img src="images/iphone.png" alt=""></p>

<p>6: 现在开发环境已经搭好了，将开发好的html程序放在www目录下面，设置首页为index.html(当然也可以修改phonegap的配置文件来修改首页路径)，然后重新编译下就能正式发布了</p>

<h3 id="section-1">参考网站</h3>
<ul>
<li><a href="http://phonegap.com/">http://phonegap.com/</a></li>
  <li><a href="http://docs.phonegap.com/en/2.0.0/index.html">http://docs.phonegap.com/en/2.0.0/index.html</a></li>
  <li><a href="https://github.com/phonegap/ios-sim">https://github.com/phonegap/ios-sim</a></li>
  <li><a href="http://docs.phonegap.com/en/edge/guide_command-line_index.md.html">http://docs.phonegap.com/en/edge/guide_command-line_index.md.html</a></li>
</ul>
</article>